
	INCLUDE	SHIKE2.INC
	INCLUDE	KBD.INC

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

	CSEG
	PUBLIC	GAME
	EXTRN	CLRSPR,LEVELINIT,MOBINIT,MOVINIT,NEWFRAME
	EXTRN	KBHIT,NEWMOV,SETCAMERA

GAME:   CALL	CLRSPR
	CALL	LEVELINIT
	CALL	MOBINIT
	CALL	MOVINIT

	LD	IX,MOV1
	LD	DE,POINT1
	CALL	NEWMOV

	LD	IX,MOV2
	LD	DE,POINT2
	CALL	NEWMOV

	LD	DE,MOV1
	CALL	SETCAMERA

G.LOOP: CALL	NEWFRAME
	CALL	KBHIT
	CP	KB_ESC
	JR	NZ,G.LOOP
	RET


POINT1:	DB	0		;LEVEL=0
	DW	0000H		;ROOM=0
	DB	0,0,0		;Y=X=Z=0

POINT2:	DB	0		;LEVEL=0
	DW	0100H		;ROOM=1
	DB	15,0,0		;Y=15,X=Z=0

	DSEG
MOV1:	DS	50		;TODO: TEMPORAL BUFFER
MOV2:	DS	50		;TODO: TEMPORAL BUFFER

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

	CSEG
	PUBLIC	ENGINE

ENGINE:	RET

